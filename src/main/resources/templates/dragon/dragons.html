<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Dragons</title>
</head>
<body>

<h2>All Dragons</h2>
<ul>
    <!-- Выводим список всех драконов -->
    <li th:each="dragon : ${allDragons}">
        <span th:text="${dragon.name}"></span>

        <!-- Проверяем, принадлежит ли дракон пользователю -->
        <span th:if="${dragonsForPerson.contains(dragon)}">
            (Owned)
            <!-- Добавляем кнопку удаления дракона -->
            <form th:action="@{/dragons/remove/{name}(name=${dragon.name})}" method="post">
                <button type="submit">Remove from My Dragons</button>
            </form>
        </span>

        <!-- Добавляем кнопку добавления дракона -->
        <span th:unless="${dragonsForPerson.contains(dragon)}">
            <form th:action="@{/dragons/add/{name}(name=${dragon.name})}" method="post">
                <button type="submit">Add to My Dragons</button>
            </form>
        </span>
    </li>
</ul>

</body>
</html>
